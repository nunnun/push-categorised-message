



Network Working Group                                        H. Nakajima
Internet-Draft                                           Keio University
Intended status: Standards Track                           March 8, 2015
Expires: September 9, 2015


                    Categorized Message for Web Push
         draft-nakajima-webpush-push-categorized-message-latest

Abstract

   The Web Push protocol provides a means of delivering the events to
   clients based on the registration made by the application.  This
   document describes extentions to that protocol that enables the
   categorized message delivery based on priority.

   This allows an application to request that a web push server deliver
   the prioritized message to a registered client.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 9, 2015.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of



Nakajima                Expires September 9, 2015               [Page 1]

Internet-Draft        Web Push Categorized Message            March 2015


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Problem Statement . . . . . . . . . . . . . . . . . . . . . .   2
     3.1.  Emergency Notification on Mobile device . . . . . . . . .   2
     3.2.  Important Notification delivery . . . . . . . . . . . . .   3
   4.  Categorized push subscription . . . . . . . . . . . . . . . .   3
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   5
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   The delivery of the prioritized message, especially emergency
   message, is a common feature of push notification services.  This
   document describes a mechanism based on the Web Push protocol
   [I-D.thomson-webpush-http2].

   A new header field is added to the Web Push push response message.
   This header field identifies a category that lets push server
   delivering message with priority.  Application can use the category
   to send a push message with priority.

2.  Terminology

   In cases where normative language needs to be emphasized, this
   document back on established shorthands for expressing
   interoperability requirements on implementations: the capitalized
   words "MUST", "MUST NOT", "SHOULD" and "MAY".  The meaning of these
   is described in [RFC2119].

3.  Problem Statement

   TODO: show why this draft is needed.

3.1.  Emergency Notification on Mobile device

   3GPP examples






Nakajima                Expires September 9, 2015               [Page 2]

Internet-Draft        Web Push Categorized Message            March 2015


3.2.  Important Notification delivery

   Application Important notification delivery e.g. rtcweb incoming call

4.  Categorized push subscription

   A new header field "Push-Category" is provided in subscribe request
   to indicate priority of new subscription.

   POST /subscribe/1G_GIPMorg_n-IrQvqZr6g HTTP/1.1
   Host: push.example.net
   Push-Category: Normal

   Figure 1: Example of push subscribe request with Push-Category header

   The "Push-Category" HTTP header field is an OPTIONAL header field
   that, when used, indicates a priority of push subscription and its
   delivery.

   The following categories are defined:

   normal: "normal" category indicates that push subscription

   important: "important" category indicates that push channel MUST be
   delivered prior to "normal" push channel.  Application MUST send a
   push message with stream which has a higher weight compared to
   Default stream priorities defined at [I-D.ietf-httpbis-http2].

       +-------+           +--------------+       +-------------+
       |  UA   |           | Push Service |       | Application |
       +-------+           +--------------+       +-------------+
           |                      |                      |
           |      Register        |                      |
           |--------------------->|                      |
           |       Monitor        |                      |
           |<====================>|                      |
           |      Subscribe       |                      |
           |--------------------->|                      |
           |           Provide Subscription              |
           |-------------------------------------------->|
           |                      |                      |
           :                      :                      :
           |                      |     Push Message     |
           |                      | with PRIORITY header |
           |    Push Message      |<---------------------|
           |<---------------------|                      |
           |                      |                      |




Nakajima                Expires September 9, 2015               [Page 3]

Internet-Draft        Web Push Categorized Message            March 2015


   emergency: "emergency" category indicates that push channel MUST be
   delivered prior to any other categorized or uncategorized push
   channel.  User Agent MUST send a aggregated channel creation request
   [I-D.thomson-webpush-aggregate].  Application MUST send a push
   message with stream which has a highest weight compared to other
   stream on the connection.

       +-------+           +--------------+       +-------------+
       |  UA   |           | Push Service |       | Application |
       +-------+           +--------------+       +-------------+
           |                      |                      |
           |      Register        |                      |
           |--------------------->|                      |
           |       Monitor        |                      |
           |<====================>|                      |
           |      Subscribe       |                      |
           | (Aggregated Channel) |                      |
           |--------------------->|                      |
           |           Provide Subscription              |
           |-------------------------------------------->|
           |                      |                      |
           :                      :                      :
           |                      |     Push Message     |
           |                      | with PRIORITY header |
           |    Push Message      |<---------------------|
           |<---------------------|                      |
           |                      |                      |

5.  Security Considerations

6.  IANA Considerations

   This document specifies the HTTP header field listed below, which has
   been added to the "Permanent Message Header Field Names" registry
   defined in [RFC3864].

   Header field: Push-Catagory
   Applicable protocol: http
   Status: standard
   Auther/Change controller:
     IETF (iesg@ietf.org)
     Internet Engineering Task Force
   Specification document(s): this specification
   Related information: None







Nakajima                Expires September 9, 2015               [Page 4]

Internet-Draft        Web Push Categorized Message            March 2015


7.  References

7.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3864]  Klyne, G., Nottingham, M., and J. Mogul, "Registration
              Procedures for Message Header Fields", BCP 90, RFC 3864,
              September 2004.

7.2.  Informative References

   [I-D.ietf-httpbis-http2]
              Belshe, M., Peon, R., and M. Thomson, "Hypertext Transfer
              Protocol version 2", draft-ietf-httpbis-http2-17 (work in
              progress), February 2015.

   [I-D.thomson-webpush-aggregate]
              Thomson, M., "Web Push Channel Aggregation", draft-
              thomson-webpush-aggregate-00 (work in progress), October
              2014.

   [I-D.thomson-webpush-http2]
              Thomson, M., "Generic Event Delivery Using HTTP Push",
              draft-thomson-webpush-http2-02 (work in progress),
              December 2014.

Author's Address

   Hirotaka Nakajima
   Keio University

   Email: hiro@awa.sfc.keio.ac.jp

















Nakajima                Expires September 9, 2015               [Page 5]
